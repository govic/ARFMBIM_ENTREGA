<!DOCTYPE html>
<html lang="en">
	<head>

		<meta charset="UTF-8">
		<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<meta name="Description" content="Bootstrap Responsive Admin Web Dashboard HTML5 Template">
		<meta name="Author" content="Spruko Technologies Private Limited">
		<meta name="Keywords" content="admin,admin dashboard,admin dashboard template,admin panel template,admin template,admin theme,bootstrap 4 admin template,bootstrap 4 dashboard,bootstrap admin,bootstrap admin dashboard,bootstrap admin panel,bootstrap admin template,bootstrap admin theme,bootstrap dashboard,bootstrap form template,bootstrap panel,bootstrap ui kit,dashboard bootstrap 4,dashboard design,dashboard html,dashboard template,dashboard ui kit,envato templates,flat ui,html,html and css templates,html dashboard template,html5,jquery html,premium,premium quality,sidebar bootstrap 4,template admin bootstrap 4"/>

		<!-- Title -->
		<title> ARBIM CONSTRUCCIÓN </title>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		 <script src="//cdnjs.cloudflare.com/ajax/libs/jstree/3.3.7/jstree.min.js"></script>
		 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jstree/3.3.7/themes/default/style.min.css" />

 		<link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" type="text/css">
  		<script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>
  	    <link rel="stylesheet" href="css/frappe-gantt.css">

  	    <script src="js/Dashboard/Dashboard.js"></script>
		<script src="js/Dashboard/DashboardPanel.js"></script>
	    <script src="js/Dashboard/PanelBarChart.js"></script>
	    <script src="js/Dashboard/PanelPieChart.js"></script>
	    <script src="js/Dashboard/PanelGanttChart.js"></script>




		<!-- Favicon -->
		<link rel="icon" href="assets/img/brand/logo.png" type="image/x-icon"/>

		<!-- Icons css -->
		<link href="assets/css/icons.css" rel="stylesheet">

		<!--  Owl-carousel css-->
		<link href="assets/plugins/owl-carousel/owl.carousel.css" rel="stylesheet" />

		<!-- P-scroll bar css-->
		<link href="assets/plugins/perfect-scrollbar/p-scrollbar.css" rel="stylesheet" />

		<!--  Right-sidemenu css -->
		<link href="assets/plugins/sidebar/sidebar.css" rel="stylesheet">

		<!-- Sidemenu css -->
		<link rel="stylesheet" href="assets/css/sidemenu.css">

		<!-- Maps css -->
		<link href="assets/plugins/jqvmap/jqvmap.min.css" rel="stylesheet">

		<!-- style css -->
		<link href="assets/css/style.css" rel="stylesheet">
		<link href="assets/css/style-dark.css" rel="stylesheet">

		<!---Skinmodes css-->
		<link href="assets/css/skin-modes.css" rel="stylesheet" />

	</head>

	<body class="main-body app sidebar-mini">

		<!-- Loader -->
		<div id="global-loader">
			<img src="assets/img/loader.svg" class="loader-img" alt="Loader">
		</div>
		<!-- /Loader -->

		<!-- Page -->
		<div class="page">

			<!-- main-sidebar -->
			<div class="app-sidebar__overlay" data-toggle="sidebar"></div>
			<aside class="app-sidebar sidebar-scroll">
				<div class="main-sidebar-header active">
					<a class="desktop-logo logo-light active" href="index.html"><img src="assets/img/brand/logo.png" class="main-logo" alt="logo"></a>
					<a class="desktop-logo logo-dark active" href="index.html"><img src="assets/img/brand/logo.png" class="main-logo dark-theme" alt="logo"></a>
					<a class="logo-icon mobile-logo icon-light active" href="index.html"><img src="assets/img/brand/logo.png" class="logo-icon" alt="logo"></a>
					<a class="logo-icon mobile-logo icon-dark active" href="index.html"><img src="assets/img/brand/logo.png" class="logo-icon dark-theme" alt="logo"></a>
				</div>
				<div class="main-sidemenu">
					
					
					<ul class="side-menu">
						<li class="side-item side-item-category">Menú Principal</li>
						
						<li class="slide">
							<a class="side-menu__item"  href="index.html"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24" ><path d="M0 0h24v24H0V0z" fill="none"/><path d="M5 5h4v6H5zm10 8h4v6h-4zM5 17h4v2H5zM15 5h4v2h-4z" opacity=".3"/><path d="M3 13h8V3H3v10zm2-8h4v6H5V5zm8 16h8V11h-8v10zm2-8h4v6h-4v-6zM13 3v6h8V3h-8zm6 4h-4V5h4v2zM3 21h8v-6H3v6zm2-4h4v2H5v-2z"/></svg><span class="side-menu__label">Home ARBIM FM</span></a>
						</li>
						
						<li class="side-item side-item-category">Administración</li>
						
						
						
						<li class="slide">
							<a class="side-menu__item" data-toggle="slide" href="selector.html"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.26 9L12 13.47 17.74 9 12 4.53z" opacity=".3"/><path d="M19.37 12.8l-7.38 5.74-7.37-5.73L3 14.07l9 7 9-7zM12 2L3 9l1.63 1.27L12 16l7.36-5.73L21 9l-9-7zm0 11.47L6.26 9 12 4.53 17.74 9 12 13.47z"/></svg><span class="side-menu__label">BIM</span></a>
						</li>
						<li class="slide">
							<a class="side-menu__item" data-toggle="slide" href="tareas.html"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.26 9L12 13.47 17.74 9 12 4.53z" opacity=".3"/><path d="M19.37 12.8l-7.38 5.74-7.37-5.73L3 14.07l9 7 9-7zM12 2L3 9l1.63 1.27L12 16l7.36-5.73L21 9l-9-7zm0 11.47L6.26 9 12 4.53 17.74 9 12 13.47z"/></svg><span class="side-menu__label">Tareas</span></a>
						</li>
						<li class="slide">
							<a class="side-menu__item" data-toggle="slide" href="roles.html"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.26 9L12 13.47 17.74 9 12 4.53z" opacity=".3"/><path d="M19.37 12.8l-7.38 5.74-7.37-5.73L3 14.07l9 7 9-7zM12 2L3 9l1.63 1.27L12 16l7.36-5.73L21 9l-9-7zm0 11.47L6.26 9 12 4.53 17.74 9 12 13.47z"/></svg><span class="side-menu__label">Roles</span></a>
						</li>
							<!--
						<li class="slide">
							<a class="side-menu__item" data-toggle="slide" href="calendario.html"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.26 9L12 13.47 17.74 9 12 4.53z" opacity=".3"/><path d="M19.37 12.8l-7.38 5.74-7.37-5.73L3 14.07l9 7 9-7zM12 2L3 9l1.63 1.27L12 16l7.36-5.73L21 9l-9-7zm0 11.47L6.26 9 12 4.53 17.74 9 12 13.47z"/></svg><span class="side-menu__label">Calendario</span></a>
						</li>-->
						<li class="slide">
							<a class="side-menu__item" data-toggle="slide" href="estadistica.html"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6.26 9L12 13.47 17.74 9 12 4.53z" opacity=".3"/><path d="M19.37 12.8l-7.38 5.74-7.37-5.73L3 14.07l9 7 9-7zM12 2L3 9l1.63 1.27L12 16l7.36-5.73L21 9l-9-7zm0 11.47L6.26 9 12 4.53 17.74 9 12 13.47z"/></svg><span class="side-menu__label">Estadísticas</span></a>
						</li>
						
						<li class="slide">
							<a class="side-menu__item" data-toggle="slide" href="#"><svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 5H5v14h14V5zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" opacity=".3"/><path d="M3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2zm2 0h14v14H5V5zm2 5h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"/></svg><span class="side-menu__label">Graficos/(Temporal)</span><i class="angle fe fe-chevron-down"></i></a>
							<ul class="slide-menu">
								<li><a class="slide-item" href="chart-morris.html">Morris Charts</a></li>
								<li><a class="slide-item" href="chart-flot.html">Flot Charts</a></li>
								<li><a class="slide-item" href="chart-chartjs.html">ChartJS</a></li>
								<li><a class="slide-item" href="chart-echart.html">Echart</a></li>
								<li><a class="slide-item" href="chart-sparkline.html">Sparkline</a></li>
								<li><a class="slide-item" href="chart-peity.html">Chart-peity</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</aside>
			<!-- main-sidebar -->

			<!-- main-content -->
			<div class="main-content app-content">

				<!-- main-header -->
				<div class="main-header sticky side-header nav nav-item">
					<div class="container-fluid">
						<div class="main-header-left ">
							<div class="responsive-logo">
								<a href="index.html"><img src="assets/img/brand/logo.png" class="logo-1" alt="logo"></a>
								<a href="index.html"><img src="assets/img/brand/logo-white.png" class="dark-logo-1" alt="logo"></a>
								<a href="index.html"><img src="assets/img/brand/favicon.png" class="logo-2" alt="logo"></a>
								<a href="index.html"><img src="assets/img/brand/favicon.png" class="dark-logo-2" alt="logo"></a>
							</div>
							<div class="app-sidebar__toggle" data-toggle="sidebar">
								<a class="open-toggle" href="#"><i class="header-icon fe fe-align-left" ></i></a>
								<a class="close-toggle" href="#"><i class="header-icons fe fe-x"></i></a>
							</div>
						
						</div>
						<div class="main-header-right">
							
							<div class="nav nav-item  navbar-nav-right ml-auto">
								<div class="nav-link" id="bs-example-navbar-collapse-1">
									<form class="navbar-form" role="search">
										<div class="input-group">
											<input type="text" class="form-control" placeholder="Search">
											<span class="input-group-btn">
												<button type="reset" class="btn btn-default">
													<i class="fas fa-times"></i>
												</button>
												<button type="submit" class="btn btn-default nav-link resp-btn">
													<svg xmlns="http://www.w3.org/2000/svg" class="header-icon-svgs" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
												</button>
											</span>
										</div>
									</form>
								</div>
								
								<div class="dropdown nav-item main-header-notification">
									<a class="new nav-link" href="#">
									<svg xmlns="http://www.w3.org/2000/svg" class="header-icon-svgs" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bell"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg><span class=" pulse"></span></a>
									<div class="dropdown-menu">
										<div class="menu-header-content bg-primary text-left">
											<div class="d-flex">
												<h6 class="dropdown-title mb-1 tx-15 text-white font-weight-semibold">Notificiaciones</h6>
												
											</div>
											
										</div>
										<div class="main-notification-list Notification-scroll">
											<a class="d-flex p-3 border-bottom" href="#">
												<div class="notifyimg bg-pink">
													<i class="la la-file-alt text-white"></i>
												</div>
												<div class="ml-3">
													<h5 class="notification-label mb-1">Notificación</h5>
													<div class="notification-subtext">tiempo transcurrido</div>
												</div>
												<div class="ml-auto" >
													<i class="las la-angle-right text-right text-muted"></i>
												</div>
											</a>
											<a class="d-flex p-3" href="#">
												<div class="notifyimg bg-purple">
												<i class="la la-file-alt text-white"></i>
												</div>
												<div class="ml-3">
													<h5 class="notification-label mb-1">Notificación</h5>
													<div class="notification-subtext">tiempo transcurrido</div>
												</div>
												<div class="ml-auto" >
													<i class="las la-angle-right text-right text-muted"></i>
												</div>
											</a>
											<a class="d-flex p-3 border-bottom" href="#">
												<div class="notifyimg bg-success">
												<i class="la la-file-alt text-white"></i>
												</div>
												<div class="ml-3">
													<h5 class="notification-label mb-1">Notificación</h5>
													<div class="notification-subtext">tiempo transcurrido</div>
												</div>
												<div class="ml-auto" >
													<i class="las la-angle-right text-right text-muted"></i>
												</div>
											</a>
											
										</div>
										<div class="dropdown-footer">
											<a href="">Ver Todo</a>
										</div>
									</div>
								</div>
								<div class="nav-item full-screen fullscreen-button">
									<a class="new nav-link full-screen-link" href="#"><svg xmlns="http://www.w3.org/2000/svg" class="header-icon-svgs" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-maximize"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg></a>
								</div>
								<div class="dropdown main-profile-menu nav nav-item nav-link">
									<a class="profile-user d-flex" href="">
										<div class="avatar avatar-md bg-warning rounded-circle" >
															NU
												</div>
									</a>
									<div class="dropdown-menu">
										<div class="main-header-profile bg-primary p-3">
											<div class="d-flex wd-100p">
												<div class="avatar avatar-md bg-warning rounded-circle" >
															NU
												</div>
												<div class="ml-3 my-auto">
													<h6>Nombre Usuario</h6><span>Empresa</span>
												</div>
											</div>
										</div>
										
										<a class="dropdown-item" href="profile.html"><i class="bx bx-slider-alt"></i> Cuenta</a>
										<a class="dropdown-item" href="page-signin.html"><i class="bx bx-log-out"></i> Salir</a>
									</div>
								</div>
								<div class="dropdown main-header-message right-toggle">
									<a class="nav-link pr-0" data-toggle="sidebar-right" data-target=".sidebar-right">
										<svg xmlns="http://www.w3.org/2000/svg" class="header-icon-svgs" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /main-header -->

				<!-- container -->
				<div class="container-fluid">

					<!-- breadcrumb -->
					
					<!-- /breadcrumb -->

		

					<!-- row opened -->
				
					<div class="row row-sm">
						<div class="col-md-12 col-lg-12 col-lg-12">
							<div class="card card-dashboard-map-one">
								   <label class="main-content-label">Proyectos</label>
								   <span class="d-block mg-b-20 text-muted tx-12">Directorio de Proyectos disponibles</span>
								   
								   <div class="">
												<div >
													   <div class="container-fluid fill">
														 <div class="row fill">
														   <div class="col-sm-4 fill">
															 <div class="panel panel-default fill">
															   <div class="panel-heading" data-toggle="tooltip">
																 Proyectos
																 <span id="refreshBuckets" class="glyphicon glyphicon-refresh" style="cursor: pointer"></span>
																
																<!--
																 <button class="btn btn-xs btn-theme02" style="float: right" id="showFormCreateBucket" data-toggle="modal" data-target="#createBucketModal">
																   Nueva Carpeta
																 </button>
					
																 -->
															   </div>
															   <div id="appBuckets">
																Arbol de Carpetas
															   </div>
															   <br><br><br><br><br><br><br><br><br><br>
															 </div>
														   </div>
														   <div class="col-sm-7 fill">
															   <div id="forgeViewer"></div>
														   </div>
														   <div class="col-sm-7">
															 
															 <div class="row">
															   
															 </div>
														   </div>                
														 </div>
													   </div>
													   <form id="uploadFile" method='post' enctype="multipart/form-data">
														 <input id="hiddenUploadField" type="file" name="theFile" style="visibility:hidden" />
													   </form>
							   
												   <div class="row">
													   
													   <div class="col-sm-12">
														  <!--  <button class="btn btn-success btn-block"  id="showFormCreateBucket" data-toggle="modal" data-target="#createBucketModal">Crear Nueva Carpeta - Proyecto</button>
														  -->
														  <div class="tab-content border-left border-bottom border-right border-top-0 p-4">
										

														
															<div class="tab-pane " id="home">
																<h4 class="tx-15 text-uppercase mb-3">Datos</h4>
																<p class="m-b-5">Datos Adicionales  Datos Adicionales  Datos Adicionales </p>
																<div class="m-t-30">
																	<h4 class="tx-15 text-uppercase mt-3">Datos</h4>
																	<div class=" p-t-10">
																		<h5 class="text-primary m-b-5 tx-14">Datos Adicionales </h5>
																		
																	</div>
																	<hr>
																	<div class="">
																		<h5 class="text-primary m-b-5 tx-14">Datos Adicionales </h5>
																		<p class="">Datos Adicionales </p>
																		
																	</div>
																</div>
															</div>
															
															
														</div>
													   </div>
													   
												   </div>
												   <div class="row">
													   <div class="col-sm-4">
														   
															   </div>
													   <div class="col-sm-4">
														   </div>
													   <div class="col-sm-4">
														   
					
													   </div>
												   </div>
												
												 
												   <div class="row">
												   
													   <div class="col-sm-4">
														  
												
														   
													   </div>
													   <div class="col-sm-4">
														
														  <!-- <button class="btn btn-success btn-block"  onclick="cargarProyecto();" >Activar como proyecto Principal</button>
													   --></div>
												   </div>
												   <div class="row">
													<div class="col-xl-12">
														<div class="card">
															<div class="card-header pb-0">
																<div class="d-flex justify-content-between">
																	<h4 class="card-title mg-b-0">Administración de Datos</h4>
																	<i class="mdi mdi-dots-horizontal text-gray"></i>
																</div>
															<!--	<p class="tx-12 tx-gray-500 mb-2">Seleccione Proyecto
																		<select id="proyectos_disponibles"></select>
																		<button class="btn btn-success btn-block"  onclick="cargaIds();" >Generar </button>
															-->
															</div>
															<div class="card-body">
																<div class="table-responsive">
																	<div class="main-content-label mg-b-5">
																		Ingreso de DATA BIM
																	</div>
																	<p class="mg-b-20">Selecciona objetos en el visualizador para añadir datos.</p>
																	<div class="row row-sm">
																		<div class="col-lg">
																			<label for="date_form" >ID</label>
																			<input  type="text" id="id_obj" class="form-control" readonly>
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Familia</label>
																			<input type="text" id="familia_obj" class="form-control">
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Nivel</label>
																			<input type="text" id="nivel_obj" class="form-control">
																		</div>
																	</div>
																	<p></p>
																	<div class="row row-sm">
																		<div class="col-lg">
																			<label for="date_form" >Tipo</label>
																			<input  type="text" id="tipo_obj" class="form-control">
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Nombre Elemento</label>
																			<input type="text" id="nombre_elemento_obj" class="form-control">
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Marca</label>
																			<input type="text" id="marca_obj" class="form-control">
																		</div>
																	</div>
																	<p></p>
																	<div class="row row-sm">
																		<div class="col-lg">
																			<label for="date_form" >Modelo</label>
																			<input  type="text" id="modelo_obj" class="form-control" >
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Manual</label>
																			<input type="text" id="manual_obj" class="form-control">
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Fecha Instalación</label>
																			<input type="date" id="fecha_instalacion_obj" class="form-control">
																		</div>
																	</div>
																	<p></p>
																	<div class="row row-sm">
																		<div class="col-lg">
																			<label for="date_form" >Fecha Última instalación</label>
																			<input  type="date" id="fecha_ultima_instalacion_obj" class="form-control" >
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Periodicidad Mantención</label>
																			<input type="text" id="periodicidad_mantencion_obj" class="form-control">
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Fecha Próxima Mantención</label>
																			<input type="date" id="fecha_proxima_mantencion_obj" class="form-control">
																		
																		</div>
																	</div>
																	<div class="row row-sm">
																		<div class="col-lg">
																			<label for="date_form" >Responsable Mantención</label>
																			<input  type="text" id="responsable_mantencion_obj" class="form-control" >
																			<input  type="hidden" id="edicion_data" >
																			<input  type="hidden" id="edicion_data2" >
																			<input  type="hidden" id="estadoEnvio" value="0" >
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">Costo Mantención</label>
																			<input type="text" id="costo_mantencion_obj" class="form-control">
																		</div>
																		<div class="col-lg mg-t-10 mg-lg-t-0">
																			<label for="date_form">HH</label>
																			<input type="text" id="hh_obj" class="form-control">
																		</div>
																	</div>
																	<div class="row row-sm">
																		<div class="col-lg">
																			<button type="button" class="btn btn-primary" onclick="saveBimData();">Guardar Datos</button>
																	<br>
																		</div>
																		<p></p>
																	</div>
																	</div>
																
																</div>
															</div>
															<div class="card-body">
																<div class="table-responsive">
																	<table class="table table-hover mb-0 text-md-nowrap" id="tablaDataBIM">
																		<thead>
																			<tr>
																				<th>ID</th>
																				<th>Familia</th>
																				<th>Nivel</th>
																				<th>Tipo</th>
																				<th>Nombre Elemento</th>
																				<th>Marca</th>
																				<th>Modelo</th>
																				<th>Manual de Instalacion</th>
																				<th>Fecha Instalacion</th>
																				<th>Fecha última Mantención</th>
																				<th>Periodicidad Mantención</th>
																				<th>Fecha Proxima Mantención</th>
																				<th>Responsable Mantención</th>
																				<th>Costo Mantención</th>
																				<th>HH</th>
																				<th>ACCION</th>
																			</tr>
																		</thead>
																		<tbody>
																			
																			
																		</tbody>
																	</table>
																</div>
															</div>
														</div>
													</div>
													<input type="hidden" id="objetos_obj">
													<input type="hidden" id="propiedades_id">
													
												   </div>
													   <div class="modal fade" id="createBucketModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
														 <div class="modal-dialog" role="document">
														   <div class="modal-content">
															 <div class="modal-header">
															   
															   <br>
															   <!-- <h4 class="modal-title" id="myModalLabel">Crear Nueva Carpeta</h4>
															   --></div>
															 <div class="modal-body">
															   <input type="text" id="newBucketKey" class="form-control"> Crea Una nueva Carpeta para almacenamiento de proyectos
															 </div>
															 <div class="modal-footer">
															   <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
															   <button type="button" class="btn btn-primary" id="createNewBucket">Crear Carpeta</button>
															 </div>
														   </div>
														 </div>
													   </div>

													   <div class="modal fade" id="errormsj" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
														<div class="modal-dialog" role="document">
														  <div class="modal-content">
															<div class="modal-header">
															  
															  <br>
															  <!-- <h4 class="modal-title" id="myModalLabel">Crear Nueva Carpeta</h4>
															  --></div>
															<div class="modal-body">
																<h4>Debe seleccionar un objeto del proyecto e ingresar su nombre</h4>
															</div>
															<div class="modal-footer">
															  <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
															  
															</div>
														  </div>
														</div>
													  </div>
													 </div>
								   </div>
							   </div>
						</div>
					</div>
					<!-- row opened -->
		
					<!-- /row -->
				</div>
				<!-- /Container -->
			</div>
			<!-- /main-content -->

			<!-- Sidebar-right-->
			<div class="sidebar sidebar-right sidebar-animate">
				<div class="panel panel-primary card mb-0 box-shadow">
					<div class="tab-menu-heading border-0 p-3">
						<div class="card-title mb-0">Menu Visualizador</div>
						<div class="card-options ml-auto">
							<a href="#" class="sidebar-remove"><i class="fe fe-x"></i></a>
						</div>
					</div>
					<div class="panel-body tabs-menu-body latest-tasks p-0 border-0">
						<div class="tabs-menu ">
							<!-- Tabs -->
							<ul class="nav panel-tabs">
								<li class=""><a href="#side1" class="active" data-toggle="tab"><i class="fa fa-align-right"></i> Filtros</a></li>
								<li><a href="#side2" data-toggle="tab"><i class="fa fa-th"></i>Cubicación</a></li>
								<li><a href="#side3" data-toggle="tab"><i class="fas fa-chart-line"></i> Herramientas & Estadísticas</a></li>
							</ul>
						</div>
						<div class="tab-content">
							<div class="tab-pane active " id="side1">
								<div class="list d-flex align-items-center border-bottom p-3">
									<div class="">
										<span class="avatar bg-primary brround avatar-md">AEC</span>
									</div>
									<a class="wrapper w-100 ml-3" href="#" >
										<p class="mb-0 d-flex ">
											<b>AEC PARTICION HA</b>
										</p>
										<div class="d-flex justify-content-between align-items-center">
											<div class="d-flex align-items-center">
												<i class="fa fa-cube"></i>
												<small class="text-muted ml-auto">Descripción del Filtro</small>
												<p class="mb-0"></p>
											</div>
										</div>
									</a>
								</div>
								<div class="list d-flex align-items-center border-bottom p-3">
									<div class="">
										<span class="avatar bg-primary brround avatar-md">AEC</span>
									</div>
									<a class="wrapper w-100 ml-3" href="#" >
										<p class="mb-0 d-flex ">
											<b>AEC PARTICION HA</b>
										</p>
										<div class="d-flex justify-content-between align-items-center">
											<div class="d-flex align-items-center">
												<i class="fa fa-cube"></i>
												<small class="text-muted ml-auto">Descripción del Filtro</small>
												<p class="mb-0"></p>
											</div>
										</div>
									</a>
								</div>
								<div class="list d-flex align-items-center border-bottom p-3">
									<div class="">
										<span class="avatar bg-primary brround avatar-md">AEC</span>
									</div>
									<a class="wrapper w-100 ml-3" href="#" >
										<p class="mb-0 d-flex ">
											<b>AEC PARTICION HA</b>
										</p>
										<div class="d-flex justify-content-between align-items-center">
											<div class="d-flex align-items-center">
												<i class="fa fa-cube"></i>
												<small class="text-muted ml-auto">Descripción del Filtro</small>
												<p class="mb-0"></p>
											</div>
										</div>
									</a>
								</div>
								<div class="list d-flex align-items-center border-bottom p-3">
									<div class="">
										<span class="avatar bg-primary brround avatar-md">AEC</span>
									</div>
									<a class="wrapper w-100 ml-3" href="#" >
										<p class="mb-0 d-flex ">
											<b>AEC PARTICION HA</b>
										</p>
										<div class="d-flex justify-content-between align-items-center">
											<div class="d-flex align-items-center">
												<i class="fa fa-cube"></i>
												<small class="text-muted ml-auto">Descripción del Filtro</small>
												<p class="mb-0"></p>
											</div>
										</div>
									</a>
								</div>
							</div>
							<div class="tab-pane  " id="side2">
								<div class="list-group list-group-flush ">
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-3">
											<div class="">
										<span class="avatar bg-primary brround avatar-md">CAT</span>
									</div>
										</div>
										<div>
											<strong>Cubicar Categoria</strong> 
											<div class="small text-muted">
											Descripción Herramienta
											</div>
										</div>
									</div>
								
								</div>
								<div class="list-group list-group-flush ">
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-3">
											<div class="">
										<span class="avatar bg-primary brround avatar-md">CAT</span>
									</div>
										</div>
										<div>
											<strong>Cubicar Categoria</strong> 
											<div class="small text-muted">
											Descripción Herramienta
											</div>
										</div>
									</div>
								
								</div>
								<div class="list-group list-group-flush ">
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-3">
											<div class="">
										<span class="avatar bg-primary brround avatar-md">CAT</span>
									</div>
										</div>
										<div>
											<strong>Cubicar Categoria</strong> <P>
											<div class="small text-muted">
											Descripción Herramienta
											</div>
										</div>
									</div>
								
								</div>
								<div class="list-group list-group-flush ">
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-3">
											<div class="">
										<span class="avatar bg-primary brround avatar-md">CAT</span>
									</div>
										</div>
										<div>
											<strong>Cubicar Categoria</strong> 
											<div class="small text-muted">
											Descripción Herramienta
											</div>
										</div>
									</div>
								
								</div>
							</div>
							<div class="tab-pane  " id="side3">
								<div class="list-group list-group-flush ">
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-2">
											<span class="avatar bg-primary brround avatar-md">A</span></span>
										</div>
										<div class="">
											<div class="font-weight-semibold" >Estadística 01</div>
										</div>
										
									</div>
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-2">
											<span class="avatar bg-primary brround avatar-md">A</span></span>
										</div>
										<div class="">
											<div class="font-weight-semibold" >Estadística 01</div>
										</div>
										
									</div>
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-2">
											<span class="avatar bg-primary brround avatar-md">A</span></span>
										</div>
										<div class="">
											<div class="font-weight-semibold" >Estadística 01</div>
										</div>
										
									</div>
									<div class="list-group-item d-flex  align-items-center">
										<div class="mr-2">
											<span class="avatar bg-primary brround avatar-md">A</span></span>
										</div>
										<div class="">
											<div class="font-weight-semibold" >Estadística 01</div>
										</div>
										
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--/Sidebar-right-->

			<!-- Message Modal -->
		

			<!--Video Modal -->
		
			<!-- Audio Modal -->
		

			<!-- Footer opened -->
			<div class="main-footer ht-40">
				<div class="container-fluid pd-t-0-f ht-100p">
					<span>Copyright © 2021 <a href="#">ARBIM CONSTRUCCIÓN</a>.</span>
				</div>
			</div>
			<!-- Footer closed -->

		</div>
		<!-- End Page -->

		<!-- Back-to-top -->
		<a href="#top" id="back-to-top"><i class="las la-angle-double-up"></i></a>

		<!-- JQuery min js -->
		<!--<script src="assets/plugins/jquery/jquery.min.js"></script> -->
		<script> 
		/*	    consulta_filtro([]).then((data) => {
					let keys = Object.keys(data);
					
					let dbIds = data[clave].dbIds;                        
						console.log("IDS TOTAL");
						console.log(dbIds);
					});
		*/
		</script>

		<script>
			getDataBIM();

			 
			function getDataBIM(){
				jQuery.get({
					url: '/getDataBIM',
					contentType: 'application/json',
					success: function (res) {
					
					var cont = 1;
					console.log("resultado");
					console.log(res);
					for(var i=0;i<res.length;i++){
						cont = i+1;
						console.log( res[i].id);
						$('#tablaDataBIM > tbody:last-child').append('<tr><td>'+res[i].id_obj+'</td><td>'+res[i].familia_obj+'</td><td><button class=\'btn btn-primary btn-success\' onclick=\'visualizarObj('+res[i].id_obj+')\'>visualizar</button><p></br><button class=\'btn btn-primary btn-success\'  onclick=\'setTareaObjeto('+res[i].id_obj+')\'>Editar / Abrir modelo</button></td><td>'+res[i].nivel_obj+'</td><td>'+res[i].tipo_obj+'</td><td>'+res[i].nombre_elemento_obj+'</td><td>'+res[i].marca_obj+'</td><td>'+res[i].modelo_obj+'</td><td>'+res[i].manual_obj+'</td><td>'+res[i].fecha_instalacion_obj+'</td><td>'+res[i].fecha_ultima_instalacion_obj+'</td><td>'+res[i].periodicidad_mantencion_obj+'</td><td>'+res[i].fecha_proxima_mantencion_obj+'</td><td>'+res[i].costo_mantencion_obj+'</td><td>'+res[i].hh_obj+'</td><td><button class=\'btn btn-primary btn-block\'  onclick=\'deleteDATABIM('+res[i].id_obj+')\'>ELIMINAR</button></td><td></td></tr>');
					}
					
				},error:function(e){
				//	alert("s");
					console.log("error envio");
					console.log(e);
				}
			});
			}
			function resetInput(){
				$("#id_obj").val("");
				$("#familia_obj").val("");
				$("#nivel_obj").val("");
				$( "#tipo_obj" ).val("");;
				$("#nombre_elemento_obj").val("");
				$("#marca_obj").val(""); 
				$("#modelo_obj").val(""); 
				$("#manual_obj").val("");
				$("#fecha_instalacion_obj").val("");  
				$("#fecha_ultima_instalacion_obj").val(""); 
				$("#periodicidad_mantencion_obj").val("");
				$("#fecha_proxima_mantencion_obj").val("");
				$("#costo_mantencion_obj").val("");
				$("#responsable_mantencion_obj").val("");
				$("#hh_obj").val("");
				$("#estadoEnvio").val("");
			}
			function setTareaObjeto(id_obj){
				$("#estadoEnvio").val(1);
			//	resetInput();
				jQuery.post({
					url: '/getTareaData',
					contentType: 'application/json',
					data:  JSON.stringify({ 'id': ''+id_obj+'' }),
					success: function (res) {
					var cont = 1;
					console.log("resultado");
					console.log(res);
					for(var i=0;i<res.length;i++){
						cont = i+1;
						console.log( res[i].id);

						$("#id_obj").val(res[i].id_obj);
						$("#familia_obj").val(res[i].familia_obj);
						$("#nivel_obj").val(res[i].nivel_obj);
						$( "#tipo_obj" ).val(res[i].tipo_obj);
						$("#nombre_elemento_obj").val(res[i].nombre_elemento_obj);
						$("#marca_obj").val(res[i].marca_obj); 
						$("#modelo_obj").val(res[i].modelo_obj); 
						$("#manual_obj").val(res[i].manual_obj);
						$("#fecha_instalacion_obj").val(res[i].fecha_instalacion_obj);  
						$("#fecha_ultima_instalacion_obj").val(res[i].fecha_ultima_instalacion_obj); 
						$("#periodicidad_mantencion_obj").val(res[i].periodicidad_mantencion_obj);
						$("#fecha_proxima_mantencion_obj").val(res[i].fecha_proxima_mantencion_obj);
						$("#costo_mantencion_obj").val(res[i].costo_mantencion_obj); 
						$("#responsable_mantencion_obj").val(res[i].responsable_mantencion_obj);
						$("#hh_obj").val(res[i].hh_obj);
						$("#estadoEnvio").val(1);
						launchViewer(res[i].modelo_seleccionado);
						visualizarObj(res[i].id_obj);
				}
					

					
				},error:function(e){
					console.log("error envio");
					console.log(e);
				}
				});
			}
			function visualizarObj(idObjetos){
				let d = ""+idObjetos;
				var arr = d.split(",");
				var ids = [];
				for(var a = 0; a<arr.length;a++){
					ids.push(parseInt(arr[a]));
				}
				viewer.isolate(ids);
				viewer.fitToView(ids, viewer.model);
			}


			function deleteDATABIM(id){
				jQuery.post({
					url: '/deleteDataBIM',
					contentType: 'application/json',
					data:  JSON.stringify({ 'id': ''+id+'' }),

					success: function (res) {
					
					console.log("RESULTADO Get server");
					console.log(res);
					console.log(typeof res);
					console.log(res.length);
					console.log(typeof res[0]);
					// $('#vistas_previas').innerHTML = "";
					console.log("RESULTADO Get PLAN SERVER");
					location.reload();
					
				},error:function(e){
					console.log("error envio");
					console.log(e);
				}
				});
			}
			function saveBimData(){
				var tipo_envio = $("#estadoEnvio").val();
				console.log("modelo seleccionado");
				console.log(modelo_actual);
				//alert(modelo_actual);
				//alert(tipo_envio);
					if(tipo_envio == 0){
						var id_obj      = $("#id_obj").val();
						var familia_obj = $("#familia_obj").val();
						var nivel_obj = $("#nivel_obj").val();
						var tipo_obj = $( "#tipo_obj" ).val();
						var nombre_elemento_obj = $("#nombre_elemento_obj").val();
						var marca_obj = $("#marca_obj").val(); 
						var modelo_obj = $("#modelo_obj").val(); 
						var manual_obj = $("#manual_obj").val();
						var fecha_instalacion_obj = $("#fecha_instalacion_obj").val();  
						var fecha_ultima_instalacion_obj = $("#fecha_ultima_instalacion_obj").val(); 
						var periodicidad_mantencion_obj= $("#periodicidad_mantencion_obj").val();
						var fecha_proxima_mantencion_obj =  $("#fecha_proxima_mantencion_obj").val();
						var costo_mantencion_obj = $("#costo_mantencion_obj").val();
						var hh_obj=  $("#hh_obj").val();
						var responsable_mantencion_obj = $('#responsable_mantencion_obj').val();
						var id = Math.random()*100;

						if((id_obj ==0 || id_obj =="")|| nombre_elemento_obj == ""){
							$('#errormsj').modal('toggle');
						}else{
							jQuery.post({
							url: '/inserBIMData',
							contentType: 'application/json',
							data:  JSON.stringify({ 'id': ''+id+'','id_obj':''+id_obj+'','familia_obj':''+familia_obj+'', 'nivel_obj': ''+nivel_obj+'','tipo_obj': ''+tipo_obj+'','nombre_elemento_obj': ''+nombre_elemento_obj+'' ,'marca_obj': ''+marca_obj+'','modelo_obj': ''+modelo_obj+'','manual_obj': ''+manual_obj+'','fecha_instalacion_obj': ''+fecha_instalacion_obj+'','fecha_ultima_instalacion_obj': ''+fecha_ultima_instalacion_obj+'','periodicidad_mantencion_obj': ''+periodicidad_mantencion_obj+'','fecha_proxima_mantencion_obj': ''+fecha_proxima_mantencion_obj+'','hh_obj': ''+hh_obj+'','responsable_mantencion_obj': ''+responsable_mantencion_obj+'','modelo_seleccionado': ''+modelo_actual+'','costo_mantencion_obj': ''+costo_mantencion_obj+''}),
							success: function (res) {
							
								console.log("ENVIO OK");
							//	alert();
								window.location = window.location;
							
							},error:function(e){
							//	alert("s");
								console.log("error envio");
								console.log(e);
							}
						});
							
						}
						
				}else{

					    var id_obj      = $("#id_obj").val();
						var familia_obj = $("#familia_obj").val();
						var nivel_obj = $("#nivel_obj").val();
						var tipo_obj = $( "#tipo_obj" ).val();
						var nombre_elemento_obj = $("#nombre_elemento_obj").val();
						var marca_obj = $("#marca_obj").val(); 
						var modelo_obj = $("#modelo_obj").val(); 
						var manual_obj = $("#manual_obj").val();
						var fecha_instalacion_obj = $("#fecha_instalacion_obj").val();  
						var fecha_ultima_instalacion_obj = $("#fecha_ultima_instalacion_obj").val(); 
						var periodicidad_mantencion_obj= $("#periodicidad_mantencion_obj").val();
						var fecha_proxima_mantencion_obj =  $("#fecha_proxima_mantencion_obj").val();
						var costo_mantencion_obj = $("#costo_mantencion_obj").val();
						var responsable_mantencion_obj = $('#responsable_mantencion_obj').val();
						var hh_obj=  $("#hh_obj").val();

						
						jQuery.post({
							url: '/setDATABIM',
							contentType: 'application/json',
							data:  JSON.stringify({ 'id': ''+id+'','id_obj':''+id_obj+'','familia_obj':''+familia_obj+'', 'nivel_obj': ''+nivel_obj+'','tipo_obj': ''+tipo_obj+'','nombre_elemento_obj': ''+nombre_elemento_obj+'' ,'marca_obj': ''+marca_obj+'','modelo_obj': ''+modelo_obj+'','manual_obj': ''+manual_obj+'','fecha_instalacion_obj': ''+fecha_instalacion_obj+'','fecha_ultima_instalacion_obj': ''+fecha_ultima_instalacion_obj+'','periodicidad_mantencion_obj': ''+periodicidad_mantencion_obj+'','fecha_proxima_mantencion_obj': ''+fecha_proxima_mantencion_obj+'','hh_obj': ''+hh_obj+'','responsable_mantencion_obj': ''+responsable_mantencion_obj+'','costo_mantencion_obj': ''+costo_mantencion_obj+'','modelo_seleccionado': ''+modelo_actual+''}),
							success: function (res) {
							
								console.log("ENVIO OK");
							//	alert();
								window.location = window.location;
							
							},error:function(e){
							//	alert("s");
								console.log("error envio");
								console.log(e);
							}
						});

				}
				

				

			}
		</script>
	
		<script src="assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

		<!--Internal  Chart.bundle js -->
		<script src="assets/plugins/chart.js/Chart.bundle.min.js"></script>

		<!-- Ionicons js -->
		<script src="assets/plugins/ionicons/ionicons.js"></script>

		<!-- Moment js -->
		<script src="assets/plugins/moment/moment.js"></script>

		<!--Internal Sparkline js -->
		<script src="assets/plugins/jquery-sparkline/jquery.sparkline.min.js"></script>

		<!-- Moment js -->
		<script src="assets/plugins/raphael/raphael.min.js"></script>

		<!--Internal  Flot js-->
		<script src="assets/plugins/jquery.flot/jquery.flot.js"></script>
		<script src="assets/plugins/jquery.flot/jquery.flot.pie.js"></script>
		<script src="assets/plugins/jquery.flot/jquery.flot.resize.js"></script>
		<script src="assets/plugins/jquery.flot/jquery.flot.categories.js"></script>
		<script src="assets/js/dashboard.sampledata.js"></script>
		<script src="assets/js/chart.flot.sampledata.js"></script>

		<!--Internal Apexchart js-->
		

		<!-- Rating js-->
		<script src="assets/plugins/rating/jquery.rating-stars.js"></script>
		<script src="assets/plugins/rating/jquery.barrating.js"></script>

		<!--Internal  Perfect-scrollbar js -->
		<script src="assets/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
		<script src="assets/plugins/perfect-scrollbar/p-scroll.js"></script>

		<!-- Eva-icons js -->
		<script src="assets/js/eva-icons.min.js"></script>

		<!-- right-sidebar js -->
		<script src="assets/plugins/sidebar/sidebar.js"></script>
		<script src="assets/plugins/sidebar/sidebar-custom.js"></script>

		<!-- Sticky js -->
		<script src="assets/js/sticky.js"></script>
		<script src="assets/js/modal-popup.js"></script>

		<!-- Left-menu js-->
		<script src="assets/plugins/side-menu/sidemenu.js"></script>

		<!-- Internal Map -->
		<script src="assets/plugins/jqvmap/jquery.vmap.min.js"></script>
		<script src="assets/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>

		<!--Internal  index js -->
		<script src="assets/js/index.js"></script>

		<!-- custom js -->
		<script src="assets/js/custom.js"></script>
		<script src="assets/js/jquery.vmap.sampledata.js"></script>

	
		<script src="js/ForgeTreeProyectos.js"></script>
	<script src="js/scripts.js"></script>
	
 <script src="js/ForgeViewerProyectos.js"></script>
	    <script src="/js/handleselectionextension.js"></script>
	    <script src="js/frappe-gantt.min.js"></script>
	    <script src="js/atbim.js"></script>
	  <!--  <script src="js/atbimDocking.js"></script>-->

	</body>
</html>